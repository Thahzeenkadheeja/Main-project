<main class="main">
    <style>
        .form-group {
            margin-bottom: 15px;
        }

        label {
            font-size: 13px;
        }
    </style>
    <div class="container">

        <!-- Stats Section -->
        <section id="stats" class="stats section">

            <!-- Login Wrapper Area -->
            <div class="container mb-4 mt-5">
                <h6 class="mb-4 text-center">Attendance Marker</h6>

                <!-- Register Form -->
                {{!-- <h4 class="text-center text-white mb-3" style="font-weight: 600;">ET LAB TEACHERS PORTAL<span
                        style="color: crimson;">.</span></h4> --}}

                <div class="card shadow p-4">

                    <form action="/teacher/submit-attendance" method="POST" enctype="multipart/form-data"
                        autocomplete="off">
                        <input type="hidden" name="date" id="datetime">

                        <div class="form-group">
                            <label for="">Your Subject</label>
                            <input class="form-control" type="text" name="subject"
                                value="{{teacher.subjectDetails.sname}}" readonly>
                            <input class="form-control" type="hidden" name="subjectId"
                                value="{{teacher.subjectDetails._id}}">
                            <input class="form-control" type="hidden" name="teacherId" value="{{teacher._id}}">

                            {{!-- <label for="" class="mt-2">Date</label>
                            <input class="form-control" type="date" name="selectedDate" required> --}}

                            <label for="" class="mt-2">Select Period</label>
                            <select class="form-select" name="period" aria-label="Default select example" required>
                                <option selected disabled>Period</option>
                                <option value="1">P1</option>
                                <option value="2">P2</option>
                                <option value="3">P3</option>
                                <option value="4">P4</option>
                                <option value="5">P5</option>
                                <option value="6">P6</option>
                                <option value="7">P7</option>
                                <option value="8">P8</option>

                            </select>


                            <label for="" class="mt-2"> Class</label>
                            <input class="form-control" type="text" value="2" name="Class" readonly>
                        </div>

                        <p class="mb-0">Check the students if they are present</p>
                        <hr class="mb-0">

                        <table class="mt-0 table table-bordered" style="">
                            <tbody>
                                <th>Present</th>
                                <th>Absent</th>
                                <th>Student</th>
                                {{#each users}}


                                <tr>
                                    <td>
                                        <!-- Checkbox for each user -->
                                        <input type="checkbox" name="present" value="{{this._id}}">
                                    </td>
                                    <td>
                                        <!-- Checkbox for each user -->
                                        <input type="checkbox" name="absent" value="{{this._id}}">
                                    </td>
                                    <td>{{this.Fname}} {{this.Lname}}</td>
                                </tr> <br>
                                {{/each}}
                            </tbody>
                        </table>

                        <button class="btn btn-dark w-25 mt-5" type="submit">Mark Attendance</button>
                    </form>
                </div>
                <!-- Login Meta -->

            </div>


        </section><!-- /Stats Section -->

    </div>
</main>
<script>
    // Get current date and time
    const now = new Date();
    const year = now.getFullYear();
    const month = (now.getMonth() + 1).toString().padStart(2, '0');
    const day = now.getDate().toString().padStart(2, '0');
    const hours = ((now.getHours() + 11) % 12 + 1).toString().padStart(2, '0'); // Convert to 12-hour format
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const ampm = now.getHours() >= 12 ? 'PM' : 'AM';

    // Set default value to current date and time in 12-hour format with AM/PM
    const defaultDateTime = `${year}-${month}-${day}T${hours}:${minutes}`;
    document.getElementById('datetime').value = defaultDateTime;
</script>